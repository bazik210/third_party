[SCE CONFIDENTIAL DOCUMENT]
PLAYSTATION(R)3 Programmer Tool Toolchain 160.008
                    Copyright(C) 2007 Sony Computer Entertainment Inc.
                                                  All Rights Reserved.
======================================================================
以下にPLAYSTATION(R)3 Reference Tool ツールチェーンパッケージの変更点と
不具合修正を記述します。

- Release 160.008 の変更点
- Release 160.008 の不具合修正

======================================================================
Release 160.008 の変更点
----------------------------------------------------------------------
GCC
----------------------------------------------------------------------
<PPU/SPU共通>
- コンパイラドライバが起動したコマンドがエラーなしで終了した場合には、
  コンパイラドライバが自動生成したレスポンスファイルを、消去していましたが、
  -save-tempsオプションを指定すると消去しないようにしました。

<PPU側>
- コンパイラに、PPUの性能低下要因となるLHS(Load-Hit-Store)の発生を検知
  する機能を追加しました。
  コンパイル時に-mwarn-lhsを指定すると、生成されたコードがLHSを生じる
  可能性が高い場合に警告を発するようになります。
  ただし、-mwarn-lhsと-gオプションを指定した場合においてのみ、
  警告発生場所のソース行が特定できます。-gオプションを指定しない場合は、
  警告に出力される行番号は正しくない可能性が高いので、ご注意ください。

  デフォルトでは、このPPUの性能低下要因となるLHSの発生を検知する機能は
  無効になっています。

- 組み込み関数__builtin_memmoveの性能を改善しました。
  以前のコンパイラでは、複写元がstatic const変数、または複写量が1バイトの
  ときのみ__builtin_memmoveを使用し、それ以外はライブラリ関数memmoveを呼び
  出していました。ToolChain160より、最適化オプション-O0以外を指定したときは、
  複写元がstatic const変数でなくても、複写量が32バイトまでは
  __builtin_memmoveが使用されるようになります。

----------------------------------------------------------------------
GDB
----------------------------------------------------------------------
- ppu-lv2-gdbのmonitor loadコマンドおよびbedbgのコマンドに以下のオプションを
  追加しました。
  -exceptionhandler:
    liblv2dbgで提供される例外ハンドラの機能を有効・無効にするオプション
  -remoteplay:
    リモートプレイのためのprxを自動でロードする・しないを選択するオプション

======================================================================
Release 160.008 の不具合修正
----------------------------------------------------------------------
GCC
----------------------------------------------------------------------
<PPU/SPU共通>
- 以下の不具合を修正しました
  - スペース文字を含む名称のフォルダ内でレスポンスファイルを利用した
    プログラムのリンクは行えません。

<PPU側>
- リンカが次のようなメッセージを出して異常終了する不具合を修正しました。
  c:\usr\local\cell\host-win32\ppu\bin\..\lib\gcc\ppu-lv2\4.0.2\..\..\..
  \..\ppu-lv2\bin\ld.exe: BFD 2.16.1 (CELL 4.0.38, $Rev: 1058 $) assertion 
  fail /home/fnami/svn/toolchain/binutils/bfd/elf64-ppc.c:8260

- 関数への定数ポインタの配列をstatic変数として定義すると、internal compiler
   error が発生するという不具合を修正しました。

----------------------------------------------------------------------
GDB
----------------------------------------------------------------------
なし
