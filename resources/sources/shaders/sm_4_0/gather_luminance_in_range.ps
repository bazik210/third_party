////////////////////////////////////////////////////////////////////////////
//	Created		: 03.05.2011
//	Author		: Nikolay Partas
//	Copyright (C) GSC Game World - 2011
////////////////////////////////////////////////////////////////////////////

#include "common.h"
#include "gbuffer.h"
#include "dof_functions.h"
#include "gamma_correction.h"
#include "luminance.h"

Texture2D t_frame_color0;

float4 luminance_range_parameter;

float4 main( v2p_TL vin) : SV_TARGET
{
	float result_luminance 	= 0.0f;
	float luminance 		= get_luminance( t_frame_color0.Sample(s_position, vin.Tex0).rgb );
    float num_access_pixels = 0.0f;
	
	if (luminance >= luminance_range_parameter.x && luminance < luminance_range_parameter.y)
	{
		return float4(1,0,0,1);
	}	
	return float4(0,0,0,1);
}