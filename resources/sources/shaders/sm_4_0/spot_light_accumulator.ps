////////////////////////////////////////////////////////////////////////////
//	Created		: 16.12.2010
//	Author		: Dmitriy Iassenev
//	Copyright (C) GSC Game World - 2010
////////////////////////////////////////////////////////////////////////////

#include "light_ps_helper.h"
#include "spot_light.h"

/*
	$DEFINES$:
	CONFIG_SHADOWED_LIGHT,
*/


uniform float3					s_eye_ray_corner;

light_accumulator main			( pixel_shader_input input ) : SV_TARGET
{
	return 
		get_light_accumulator(
			light_color,
			spot_light( 
				get_gbuffer_data(
					input.texture_coordinates.xyw,
					s_eye_ray_corner
				),
				input.texture_coordinates.xy / input.texture_coordinates.w
			)
		);
}