//==============================================================================//Name://  uvsShellsAlignRotate.mel//==============================================================================//Purpose://uvsShellsAlignRotate; 					//Aligning and rotate UvsShell by two selected uws point.//==============================================================================//Usage://  1. Save the uvsShellsAlignRotate.mel to your scripts directory.//  2. Start Maya. In the command line type uvsShellsAlignRotate();//  3. Middlemouse drag to a shelf you like.//==============================================================================global proc uvsShellsAlignRotate(){textureWindowSelectConvert 4;string $uvsSelected[] = `ls -sl -fl`;string $uvsToRotate[] = $uvsSelected;for (;;)        {        select $uvsToRotate[0];        polySelectBorderShell 0;        string $intersect[] = stringIntersect(sel(), $uvsToRotate);//select $intersect;        string $uvs[] = $intersect;        float $posUv1[] = pointPositionUV($uvs[0]);        float $posUv2[] = pointPositionUV($uvs[1]);        vector $vector = vectorByPoints($posUv2, $posUv1);        float $angle = angle2d($vector, <<0,1,0>>);        if ($angle > 45 && $angle < 135)                $angle -= 90;        else if ($angle < -45 && $angle > -135)                $angle += 90;        float $pos[] = uvsShellBBpos(`ls -sl -fl`);        polyEditUV -pu $pos[0] -pv $pos[1] -a $angle;        $uvsToRotate = stringArrayRemove(sel(), $uvsToRotate);        if (`size $uvsToRotate` == 0)                break;        }select $uvsSelected;}